<!DOCTYPE html>
<html>
<head>
<title>Weather</title>
</head>
<body>

    <script src="http://code.jquery.com/jquery-1.7.min.js" ></script>
    <script src="http://code.jquery.com/ui/1.7.0/jquery-ui.js" ></script>

<script>

function getWeather(callback) {
    var weather = "http://api.wunderground.com/api/8c8cdf1ee5fd3f7b/forecast10day/q/CA/Santa_Barbara.json";
    $.ajax({
      dataType: "jsonp",
      url: weather,
      success: callback
    });
}

// get data:
getWeather(function (data){
  document.write('<style>table, th, td {border: 1px solid black; text-align: center;}</style>');
  for (i = 0; i < 20; i++){
    document.write('<table> <td>');
    var icon = data['forecast']['txt_forecast']['forecastday'][i]['icon_url'];
    document.write( data['forecast']['txt_forecast']['forecastday'][i]['title']);
    document.write('<img src='+ icon + '>');
    document.write(data['forecast']['txt_forecast']['forecastday'][i]['fcttext']);
    document.write(data['forecast']['txt_forecast']['forecastday'][i]['fcttext_metric']);
    document.write('</td></table>')
  }
  document.close();
});

</script>
</body>
</html>
